---
config:
  look: neo
  theme: default
  layout: elk
---
classDiagram
direction LR
    namespace Components {
        %% Main page for staff management
        class UserManagementPage {
            +render()
        }
        %% List view of staff members
        class UserList {
            +staffs: Staff[]
            +render()
        }
        %% Individual staff row
        class UserItem {
            +staff: Staff
            +onViewDetails()
            +onDelete()
            +render()
        }
        %% Form for creating new staff
        class StaffForm {
            +initialData: Staff
            +roles: Role[]
            +onSubmit(data)
            +onCancel()
            +render()
        }
        %% View/Edit staff details
        class StaffDetails {
            +staff: Staff
            +isEditing: boolean
            +onEdit()
            +onSave(data)
            +onCancel()
            +render()
        }
        %% Dialog for selecting roles
        class RoleDialog {
            +open: boolean
            +onOpenChange: (open: boolean)
            +roles: Role[]
            +onSelect(role: Role)
            +render()
        }
    }

    namespace Hooks {
        %% Manages staff list fetching
        class useStaffs {
            +staffs: Staff[]
            +isLoading: boolean
            +pagination: PaginationState
            +fetchStaffs(params)
            +changePage(page)
        }
        %% Manages staff CUD operations
        class useStaffMutations {
            +createStaff(data)
            +updateStaff(id, data)
            +deleteStaff(id)
            +isCreating: boolean
            +isUpdating: boolean
        }
        %% Fetches roles for assignment
        class useRoles {
            +roles: Role[]
            +isLoading: boolean
            +fetchRoles()
        }
    }

    namespace Services {
        %% API calls for staff
        class userService {
            +getStaffs(params)
            +getStaffById(id)
            +createStaff(data)
            +updateStaff(id, data)
            +deleteStaff(id)
        }
    }

    UserManagementPage *-- UserList
    UserManagementPage *-- StaffForm
    UserManagementPage *-- StaffDetails
    UserList *-- UserItem
    StaffForm *-- RoleDialog
    StaffDetails *-- RoleDialog

    UserList ..> useStaffs
    StaffForm ..> useStaffMutations
    StaffForm ..> useRoles
    StaffDetails ..> useStaffMutations
    StaffDetails ..> useRoles
    UserItem ..> useStaffMutations
    RoleDialog ..> useRoles

    useStaffs ..> userService
    useStaffMutations ..> userService
